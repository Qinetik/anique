---
import {styled, ThemeProvider} from "@qinetik/emotion";
import {ColorScheme, getSystemColorScheme, onSystemColorSchemeChange} from "@qinetik/anique/theme/ColorScheme";
import {Column} from "@qinetik/anique/column";
import {AppBar} from "@qinetik/anique/appbar";
import {IconButton} from "@qinetik/anique/icon-button";
import {DrawerItem, DrawerSectionItem, StaticDrawer} from "@qinetik/anique/drawer";
import {createEffect, createSignal, JSX} from "solid-js";
import MenuIcon from "../solid/icons/Menu"
import LightDarkIcon from "../solid/icons/LightDarkIcon";
import {Row} from "@qinetik/anique/row";
import {getThemeValue, removeThemeValue, saveThemeValue} from "../solid/utils/theme-value";
import {Size} from "@qinetik/anique/theme/Size";
import {AniqueThemeDark, AniqueThemeLight} from "@qinetik/anique/theme/AniqueThemes";
import HTMLContainer from "./HTMLContainer.astro";
import {AutoSystemColorScheme} from "../solid/components/AutoSystemColorScheme";
import {WebAppBar} from "../solid/components/AppBar";
import {ScrollbarStyles} from "@qinetik/anique/scrollbar";
import {ScrollbarArea} from "@qinetik/anique";
import AnchorDrawerItem from "../solid/components/AnchorDrawerItem";

const path = Astro.url.pathname
let base = import.meta.env.BASE_URL || ""
base = base == "/" ? "" : base
---

<HTMLContainer
    initialTheme="dark"
    title="Anique"
>

    <slot name="head" slot="head"/>

    <AutoSystemColorScheme
        client:load
    />

    <Column>

        <WebAppBar
            client:load
        />

        <Row class="bar-content-row">

            <StaticDrawer
                class="static-drawer"
            >

                <ScrollbarArea class="fixed-content">

                    <div class="fixed-content-inner">

                        <AnchorDrawerItem href={base + "/"} current={path}>
                            Home
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/setup"} current={path}>
                            Setup
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/theming"} current={path}>
                            Theming
                        </AnchorDrawerItem>

                        <DrawerSectionItem title={"Input"}/>
                        <AnchorDrawerItem href={`${base}/components/textfield`} current={path}>
                            TextField
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/fab"} current={path}>
                            Floating Action Button
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/button"} current={path}>
                            Button
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/snackbar"} current={path}>
                            Snackbar
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/icon-button"} current={path}>
                            IconButton
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/chip"} current={path}>
                            Chip
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={`${base}/components/accordion`} current={path}>
                            Accordion
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={`${base}/components/dropdown`} current={path}>
                            Dropdown
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/checkbox"} current={path}>
                            Checkbox
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/radio"} current={path}>
                            Radio
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/slider"} current={path}>
                            Slider
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/native-select"} current={path}>
                            Native Select
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/select"} current={path}>
                            Select
                        </AnchorDrawerItem>

                        <DrawerSectionItem title={"Layout"}/>
                        <AnchorDrawerItem href={base + "/components/scaffold"} current={path}>
                            Scaffold
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/scrollbar"} current={path}>
                            Scrollbar
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/column"} current={path}>
                            Column
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/row"} current={path}>
                            Row
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/dialog"} current={path}>
                            Dialog
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/appbar"} current={path}>
                            AppBar
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/tabs"} current={path}>
                            Tabs
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/drawer"} current={path}>
                            Drawer
                        </AnchorDrawerItem>

                        <DrawerSectionItem title={"Text"}/>
                        <AnchorDrawerItem href={base + "/components/text"} current={path}>
                            Native Text
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/headline"} current={path}>
                            Headline
                        </AnchorDrawerItem>

                        <DrawerSectionItem title="Data"/>
                        <AnchorDrawerItem href={base + "/components/table"} current={path}>
                            Table
                        </AnchorDrawerItem>
                        <DrawerSectionItem title="Display"/>
                        <AnchorDrawerItem href={base + "/components/icon"} current={path}>
                            Icon
                        </AnchorDrawerItem>

                        <DrawerSectionItem title={"Feedback"}/>
                        <AnchorDrawerItem href={base + "/components/alert"} current={path}>
                            Alert
                        </AnchorDrawerItem>
                        <AnchorDrawerItem href={base + "/components/spinner"} current={path}>
                            Spinner
                        </AnchorDrawerItem>

                    </div>

                </ScrollbarArea>

            </StaticDrawer>

            <div class="content-container">
                <div class="container">
                    <slot/>
                </div>
            </div>
        </Row>

    </Column>

</HTMLContainer>


<style>
    .content-container {
        display: table-cell;
        vertical-align: top;
    }

    .container {
        display: flex;
        flex-direction: column;
        justify-content: start;
        justify-items: start;
        align-items: center;
        flex: 1;
        box-sizing: border-box;
    }

    .bar-content-row {
        display: table;
    }

    .static-drawer {
        display: table-cell;
        vertical-align: top;
        padding : 0 24px;
    }

    .static-drawer a {
        text-decoration: none;
    }

    .fixed-content {
        position: sticky;
        top: 0;
        box-sizing: border-box;
        height: calc(100vh);
        overflow-y: auto;
    }

    .fixed-content-inner {
        box-sizing : border-box;
        padding : 2em 0.5em;
    }

</style>