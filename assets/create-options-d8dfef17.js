import{f as A,g as u,i as g,t as b}from"./entry-client-fa648c77.js";const y=b("<mark>"),h={NO_MATCH:0,MATCH:1,WORD_START:2,START:3},O=(r,i)=>{let t=h.NO_MATCH,n=[];if(r.length<=i.length){const a=Array.from(r.toLocaleLowerCase()),s=Array.from(i.toLocaleLowerCase());let o=h.START;e:for(let l=0,e=0;l<a.length;l++){for(;e<s.length;)if(s[e]===a[l]){n[e]=!0,o===h.MATCH&&s[e-1]===" "&&s[e]!==" "&&(o=h.WORD_START),t+=o,o++,e++;continue e}else o=h.MATCH,e++;t=h.NO_MATCH,n.length=0}}return{target:i,score:t,matches:n}},x=(r,i=t=>(()=>{const n=u(y);return g(n,t),n})())=>{const t=r.target,n=r.matches,a="\0",s=[];let o=!1;for(let l=0;l<t.length;l++){const e=t[l],m=n[l];!o&&m?(s.push(a),o=!0):o&&!m&&(s.push(a),o=!1),s.push(e)}return o&&(s.push(a),o=!1),A(()=>s.join("").split(a).map((l,e)=>e%2?i(l):l))},_=(r,i,t)=>{const n=[];for(let a=0;a<i.length;a++){const s=i[a],o=t?s[t]:s,l=O(r,o);l.score&&n.push({...l,item:s,index:a})}return n.sort((a,s)=>{let o=s.score-a.score;return o===0&&(o=a.index-s.index),o}),n},H=b("<mark>"),z=(r,i)=>{const t=Object.assign({filterable:!0,disable:()=>!1},i||{}),n=e=>t?.key!==void 0?e[t.key]:e;return{options:e=>{let f=(typeof r=="function"?r(e):r).map(c=>({label:n(c),value:c,disabled:t.disable(c)}));if(t.filterable&&e&&(f=_(e,f,"label").map(c=>({...c.item,label:x(c)}))),t.createable!==void 0){const c=e.trim(),T=f.some(d=>M(e,n(d.value)));if(c&&!T){let d;typeof t.createable=="function"?d=t.createable(c):d=t.key?{[t.key]:c}:c;const C={label:["Create ",(()=>{const p=u(H);return g(p,()=>n(d)),p})()],value:d,disabled:!1};f=[...f,C]}}return f},optionToValue:e=>e.value,isOptionDisabled:e=>e.disabled,format:(e,m)=>m==="option"?e.label:n(e)}},M=(r,i)=>r.localeCompare(i,void 0,{sensitivity:"base"})===0;export{z as c};
